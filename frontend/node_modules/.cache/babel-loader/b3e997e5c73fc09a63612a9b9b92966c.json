{"ast":null,"code":"var _jsxFileName = \"/Users/annllamb/Documents/GitHub/Intern-project/frontend/src/components/meeting/viewCard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { AuthContext } from \"../general/auth-context\";\nimport { useHttpClient } from \"../general/http-hook\";\nimport Marginer from \"../general/marginer\";\nimport MeetingMenu from \"./meetingMenu\";\nimport Button from \"../general/button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CardContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 25em;\n  min-width: 50em;\n  box-shadow: rgba(0, 0, 0, 0.09) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px,\n    rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px,\n    rgba(0, 0, 0, 0.09) 0px 32px 16px;\n  ${{\n  \"borderRadius\": \"0.375rem\",\n  \"flexDirection\": \"column\",\n  \"--tw-bg-opacity\": \"1\",\n  \"backgroundColor\": \"rgba(255, 255, 255, var(--tw-bg-opacity))\",\n  \"paddingTop\": \"1rem\",\n  \"paddingBottom\": \"1rem\",\n  \"paddingRight\": \"2rem\",\n  \"paddingLeft\": \"2rem\"\n}};\n`;\n_c = CardContainer;\nconst ItemContainer = styled.div`\n  ${{\n  \"display\": \"flex\",\n  \"position\": \"relative\",\n  \"justifyContent\": \"center\",\n  \"borderRadius\": \"0.375rem\",\n  \":hover\": {\n    \"--tw-bg-opacity\": \"1\",\n    \"backgroundColor\": \"rgba(229, 231, 235, var(--tw-bg-opacity))\"\n  },\n  \"width\": \"100%\",\n  \"height\": \"100%\"\n}};\n`;\n_c2 = ItemContainer;\nconst LineSeperator = styled.span`\n  width: 45%;\n  height: 2px;\n  ${{\n  \"--tw-bg-opacity\": \"1\",\n  \"backgroundColor\": \"rgba(209, 213, 219, var(--tw-bg-opacity))\",\n  \"marginRight\": \"0.5rem\",\n  \"marginLeft\": \"0.5rem\",\n  \"@media (min-width: 768px)\": {\n    \"marginRight\": \"1.25rem\",\n    \"marginLeft\": \"1.25rem\"\n  }\n}};\n`;\n_c3 = LineSeperator;\nconst VerticalSeperator = styled.span`\n  width: 2px;\n  height: 4em;\n  ${{\n  \"--tw-bg-opacity\": \"1\",\n  \"backgroundColor\": \"rgba(209, 213, 219, var(--tw-bg-opacity))\",\n  \"marginRight\": \"0.5rem\",\n  \"marginLeft\": \"0.5rem\",\n  \"display\": \"flex\",\n  \"justifyContent\": \"center\",\n  \"alignItems\": \"center\",\n  \"@media (min-width: 768px)\": {\n    \"marginRight\": \"1.25rem\",\n    \"marginLeft\": \"1.25rem\"\n  }\n}};\n`;\n_c4 = VerticalSeperator;\nconst Slogan = styled.h1`\n  ${{\n  \"fontWeight\": \"600\",\n  \"fontSize\": \"1.25rem\",\n  \"lineHeight\": \"1.75rem\",\n  \"textAlign\": \"center\"\n}};\n`;\n_c5 = Slogan;\nconst Details = styled.span`\n  ${{\n  \"display\": \"flex\",\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"rgba(75, 85, 99, var(--tw-text-opacity))\",\n  \"fontSize\": \"1.125rem\",\n  \"lineHeight\": \"1.75rem\",\n  \"cursor\": \"pointer\",\n  \"userSelect\": \"none\",\n  \"justifyContent\": \"center\",\n  \"alignItems\": \"center\"\n}};\n`;\n_c6 = Details;\n\nconst ViewCard = () => {\n  _s();\n\n  const {\n    sendRequest\n  } = useHttpClient();\n  const [date, setDate] = useState(new Date());\n  const [bookings, setBookings] = useState();\n  const auth = useContext(AuthContext);\n  const currentTime = date.getHours() + \":\" + date.getMinutes();\n  useEffect(() => {\n    const fetchBookings = async () => {\n      if (auth.isAdmin) {\n        try {\n          const responseData = await sendRequest({\n            url: \"http://localhost:5000/api/meetings/creator/retailps\",\n            headers: null\n          });\n          setBookings(responseData.meetings);\n        } catch (err) {}\n      } else {\n        try {\n          const responseData = await sendRequest({\n            url: \"http://localhost:5000/api/meetings/\",\n            headers: null\n          });\n          setBookings(responseData.meetings);\n        } catch (err) {}\n      }\n    };\n\n    fetchBookings();\n  }, [sendRequest, auth.isAdmin]);\n  useEffect(() => {\n    if (bookings) {\n      bookings.forEach((booking, idx) => {\n        if (booking.time <= currentTime && booking.status === \"Booked\") {\n          let prevState = [...bookings];\n          prevState[parseInt(idx)].status = \"Active\";\n          setBookings(prevState);\n        }\n      });\n    }\n  }, [currentTime, bookings]);\n  return /*#__PURE__*/_jsxDEV(CardContainer, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Slogan, {\n        children: \"Pending Bookings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n        direction: \"vertical\",\n        margin: \"3em\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), bookings && /*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          listStyleType: \"none\"\n        },\n        children: bookings.map(booking => {\n          if (booking.status === \"Booked\" || booking.status === \"Active\") {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(ItemContainer, {\n                children: [/*#__PURE__*/_jsxDEV(Details, {\n                  children: booking.date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n                  direction: \"horizontal\",\n                  margin: \"1em\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(VerticalSeperator, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Details, {\n                  children: booking.time\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n                  direction: \"horizontal\",\n                  margin: \"1em\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(VerticalSeperator, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Details, {\n                  children: booking.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n                  direction: \"horizontal\",\n                  margin: \"1em\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(VerticalSeperator, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Details, {\n                  children: booking.reason\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n                  direction: \"horizontal\",\n                  margin: \"1em\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  text: booking.status === \"Active\" ? \"Join Meeting\" : \"Not Available\",\n                  to: `/videochat/${booking.id}`,\n                  size: \"small\",\n                  disabled: booking.status !== \"Active\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n                  direction: \"horizontal\",\n                  margin: \"3em\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(MeetingMenu, {\n                  id: booking.id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(LineSeperator, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 21\n              }, this)]\n            }, uuidv4(), true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 19\n            }, this);\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n        direction: \"vertical\",\n        margin: \"3em\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LineSeperator, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n        direction: \"vertical\",\n        margin: \"3em\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Slogan, {\n        children: \"Past Bookings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n        direction: \"vertical\",\n        margin: \"3em\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), bookings && /*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          listStyleType: \"none\"\n        },\n        children: bookings.map(booking => {\n          if (booking.status === \"Completed\" || booking.status === \"Cancelled\") {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(ItemContainer, {\n                children: [/*#__PURE__*/_jsxDEV(Details, {\n                  children: booking.date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n                  direction: \"horizontal\",\n                  margin: \"1em\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(VerticalSeperator, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Details, {\n                  children: booking.time\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n                  direction: \"horizontal\",\n                  margin: \"1em\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(VerticalSeperator, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Details, {\n                  children: booking.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n                  direction: \"horizontal\",\n                  margin: \"1em\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(LineSeperator, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 21\n              }, this)]\n            }, uuidv4(), true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 19\n            }, this);\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ViewCard, \"zFIMjTPtfZm3sHJzcjjuAQ7YZSE=\", false, function () {\n  return [useHttpClient];\n});\n\n_c7 = ViewCard;\nexport default ViewCard;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"CardContainer\");\n$RefreshReg$(_c2, \"ItemContainer\");\n$RefreshReg$(_c3, \"LineSeperator\");\n$RefreshReg$(_c4, \"VerticalSeperator\");\n$RefreshReg$(_c5, \"Slogan\");\n$RefreshReg$(_c6, \"Details\");\n$RefreshReg$(_c7, \"ViewCard\");","map":{"version":3,"sources":["/Users/annllamb/Documents/GitHub/Intern-project/frontend/src/components/meeting/viewCard.js"],"names":["React","useState","useEffect","useContext","styled","v4","uuidv4","AuthContext","useHttpClient","Marginer","MeetingMenu","Button","CardContainer","div","ItemContainer","LineSeperator","span","VerticalSeperator","Slogan","h1","Details","ViewCard","sendRequest","date","setDate","Date","bookings","setBookings","auth","currentTime","getHours","getMinutes","fetchBookings","isAdmin","responseData","url","headers","meetings","err","forEach","booking","idx","time","status","prevState","parseInt","listStyleType","map","reason","id"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,SAASC,EAAE,IAAIC,MAAf,QAA6B,MAA7B;AAEA,SAASC,WAAT,QAA4B,yBAA5B;AACA,SAASC,aAAT,QAA8B,sBAA9B;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;;AAEA,MAAMC,aAAa,GAAGR,MAAM,CAACS,GAAI;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAQF;AACJ,CAlBA;KAAMD,a;AAoBN,MAAME,aAAa,GAAGV,MAAM,CAACS,GAAI;AACjC,IAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAOF;AACJ,CATA;MAAMC,a;AAWN,MAAMC,aAAa,GAAGX,MAAM,CAACY,IAAK;AAClC;AACA;AACA,IAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAOF;AACJ,CAXA;MAAMD,a;AAaN,MAAME,iBAAiB,GAAGb,MAAM,CAACY,IAAK;AACtC;AACA;AACA,IAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CASF;AACJ,CAbA;MAAMC,iB;AAeN,MAAMC,MAAM,GAAGd,MAAM,CAACe,EAAG;AACzB,IAAM;AAAA;AAAA;AAAA;AAAA;AAAA,CAIF;AACJ,CANA;MAAMD,M;AAQN,MAAME,OAAO,GAAGhB,MAAM,CAACY,IAAK;AAC5B,IAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAQF;AACJ,CAVA;MAAMI,O;;AAYN,MAAMC,QAAQ,GAAG,MAAM;AAAA;;AACrB,QAAM;AAAEC,IAAAA;AAAF,MAAkBd,aAAa,EAArC;AACA,QAAM,CAACe,IAAD,EAAOC,OAAP,IAAkBvB,QAAQ,CAAC,IAAIwB,IAAJ,EAAD,CAAhC;AACA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0B1B,QAAQ,EAAxC;AACA,QAAM2B,IAAI,GAAGzB,UAAU,CAACI,WAAD,CAAvB;AAEA,QAAMsB,WAAW,GAAGN,IAAI,CAACO,QAAL,KAAkB,GAAlB,GAAwBP,IAAI,CAACQ,UAAL,EAA5C;AAEA7B,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM8B,aAAa,GAAG,YAAY;AAChC,UAAIJ,IAAI,CAACK,OAAT,EAAkB;AAChB,YAAI;AACF,gBAAMC,YAAY,GAAG,MAAMZ,WAAW,CAAC;AACrCa,YAAAA,GAAG,EAAE,qDADgC;AAErCC,YAAAA,OAAO,EAAE;AAF4B,WAAD,CAAtC;AAIAT,UAAAA,WAAW,CAACO,YAAY,CAACG,QAAd,CAAX;AACD,SAND,CAME,OAAOC,GAAP,EAAY,CAAE;AACjB,OARD,MAQO;AACL,YAAI;AACF,gBAAMJ,YAAY,GAAG,MAAMZ,WAAW,CAAC;AACrCa,YAAAA,GAAG,EAAE,qCADgC;AAErCC,YAAAA,OAAO,EAAE;AAF4B,WAAD,CAAtC;AAIAT,UAAAA,WAAW,CAACO,YAAY,CAACG,QAAd,CAAX;AACD,SAND,CAME,OAAOC,GAAP,EAAY,CAAE;AACjB;AACF,KAlBD;;AAmBAN,IAAAA,aAAa;AACd,GArBQ,EAqBN,CAACV,WAAD,EAAcM,IAAI,CAACK,OAAnB,CArBM,CAAT;AAuBA/B,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIwB,QAAJ,EAAc;AACZA,MAAAA,QAAQ,CAACa,OAAT,CAAiB,CAACC,OAAD,EAAUC,GAAV,KAAkB;AACjC,YAAID,OAAO,CAACE,IAAR,IAAgBb,WAAhB,IAA+BW,OAAO,CAACG,MAAR,KAAmB,QAAtD,EAAgE;AAC9D,cAAIC,SAAS,GAAG,CAAC,GAAGlB,QAAJ,CAAhB;AACAkB,UAAAA,SAAS,CAACC,QAAQ,CAACJ,GAAD,CAAT,CAAT,CAAyBE,MAAzB,GAAkC,QAAlC;AACAhB,UAAAA,WAAW,CAACiB,SAAD,CAAX;AACD;AACF,OAND;AAOD;AACF,GAVQ,EAUN,CAACf,WAAD,EAAcH,QAAd,CAVM,CAAT;AAWA,sBACE,QAAC,aAAD;AAAA,2BACE;AAAA,8BACE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,QAAD;AAAU,QAAA,SAAS,EAAC,UAApB;AAA+B,QAAA,MAAM,EAAC;AAAtC;AAAA;AAAA;AAAA;AAAA,cAFF,EAGGA,QAAQ,iBACP;AAAI,QAAA,KAAK,EAAE;AAAEoB,UAAAA,aAAa,EAAE;AAAjB,SAAX;AAAA,kBAEGpB,QAAQ,CAACqB,GAAT,CAAcP,OAAD,IAAa;AACzB,cAAIA,OAAO,CAACG,MAAR,KAAmB,QAAnB,IAA+BH,OAAO,CAACG,MAAR,KAAmB,QAAtD,EAAgE;AAC9D,gCACE;AAAA,sCACE,QAAC,aAAD;AAAA,wCACE,QAAC,OAAD;AAAA,4BAAUH,OAAO,CAACjB;AAAlB;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE,QAAC,QAAD;AAAU,kBAAA,SAAS,EAAC,YAApB;AAAiC,kBAAA,MAAM,EAAC;AAAxC;AAAA;AAAA;AAAA;AAAA,wBAFF,eAGE,QAAC,iBAAD;AAAA;AAAA;AAAA;AAAA,wBAHF,eAIE,QAAC,OAAD;AAAA,4BAAUiB,OAAO,CAACE;AAAlB;AAAA;AAAA;AAAA;AAAA,wBAJF,eAKE,QAAC,QAAD;AAAU,kBAAA,SAAS,EAAC,YAApB;AAAiC,kBAAA,MAAM,EAAC;AAAxC;AAAA;AAAA;AAAA;AAAA,wBALF,eAME,QAAC,iBAAD;AAAA;AAAA;AAAA;AAAA,wBANF,eAOE,QAAC,OAAD;AAAA,4BAAUF,OAAO,CAACG;AAAlB;AAAA;AAAA;AAAA;AAAA,wBAPF,eAQE,QAAC,QAAD;AAAU,kBAAA,SAAS,EAAC,YAApB;AAAiC,kBAAA,MAAM,EAAC;AAAxC;AAAA;AAAA;AAAA;AAAA,wBARF,eASE,QAAC,iBAAD;AAAA;AAAA;AAAA;AAAA,wBATF,eAUE,QAAC,OAAD;AAAA,4BAAUH,OAAO,CAACQ;AAAlB;AAAA;AAAA;AAAA;AAAA,wBAVF,eAWE,QAAC,QAAD;AAAU,kBAAA,SAAS,EAAC,YAApB;AAAiC,kBAAA,MAAM,EAAC;AAAxC;AAAA;AAAA;AAAA;AAAA,wBAXF,eAYE,QAAC,MAAD;AACE,kBAAA,IAAI,EACFR,OAAO,CAACG,MAAR,KAAmB,QAAnB,GACI,cADJ,GAEI,eAJR;AAME,kBAAA,EAAE,EAAG,cAAaH,OAAO,CAACS,EAAG,EAN/B;AAOE,kBAAA,IAAI,EAAE,OAPR;AAQE,kBAAA,QAAQ,EAAET,OAAO,CAACG,MAAR,KAAmB;AAR/B;AAAA;AAAA;AAAA;AAAA,wBAZF,eAsBE,QAAC,QAAD;AAAU,kBAAA,SAAS,EAAC,YAApB;AAAiC,kBAAA,MAAM,EAAC;AAAxC;AAAA;AAAA;AAAA;AAAA,wBAtBF,eAuBE,QAAC,WAAD;AAAa,kBAAA,EAAE,EAAEH,OAAO,CAACS;AAAzB;AAAA;AAAA;AAAA;AAAA,wBAvBF;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eA0BE,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,sBA1BF;AAAA,eAAS3C,MAAM,EAAf;AAAA;AAAA;AAAA;AAAA,oBADF;AA8BD;AACF,SAjCA;AAFH;AAAA;AAAA;AAAA;AAAA,cAJJ,eA2CE,QAAC,QAAD;AAAU,QAAA,SAAS,EAAC,UAApB;AAA+B,QAAA,MAAM,EAAC;AAAtC;AAAA;AAAA;AAAA;AAAA,cA3CF,eA4CE,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,cA5CF,eA6CE,QAAC,QAAD;AAAU,QAAA,SAAS,EAAC,UAApB;AAA+B,QAAA,MAAM,EAAC;AAAtC;AAAA;AAAA;AAAA;AAAA,cA7CF,eA+CE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA/CF,eAgDE,QAAC,QAAD;AAAU,QAAA,SAAS,EAAC,UAApB;AAA+B,QAAA,MAAM,EAAC;AAAtC;AAAA;AAAA;AAAA;AAAA,cAhDF,EAiDGoB,QAAQ,iBACP;AAAI,QAAA,KAAK,EAAE;AAAEoB,UAAAA,aAAa,EAAE;AAAjB,SAAX;AAAA,kBAEGpB,QAAQ,CAACqB,GAAT,CAAcP,OAAD,IAAa;AACzB,cACEA,OAAO,CAACG,MAAR,KAAmB,WAAnB,IACAH,OAAO,CAACG,MAAR,KAAmB,WAFrB,EAGE;AACA,gCACE;AAAA,sCACE,QAAC,aAAD;AAAA,wCACE,QAAC,OAAD;AAAA,4BAAUH,OAAO,CAACjB;AAAlB;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE,QAAC,QAAD;AAAU,kBAAA,SAAS,EAAC,YAApB;AAAiC,kBAAA,MAAM,EAAC;AAAxC;AAAA;AAAA;AAAA;AAAA,wBAFF,eAGE,QAAC,iBAAD;AAAA;AAAA;AAAA;AAAA,wBAHF,eAIE,QAAC,OAAD;AAAA,4BAAUiB,OAAO,CAACE;AAAlB;AAAA;AAAA;AAAA;AAAA,wBAJF,eAKE,QAAC,QAAD;AAAU,kBAAA,SAAS,EAAC,YAApB;AAAiC,kBAAA,MAAM,EAAC;AAAxC;AAAA;AAAA;AAAA;AAAA,wBALF,eAME,QAAC,iBAAD;AAAA;AAAA;AAAA;AAAA,wBANF,eAOE,QAAC,OAAD;AAAA,4BAAUF,OAAO,CAACG;AAAlB;AAAA;AAAA;AAAA;AAAA,wBAPF,eAQE,QAAC,QAAD;AAAU,kBAAA,SAAS,EAAC,YAApB;AAAiC,kBAAA,MAAM,EAAC;AAAxC;AAAA;AAAA;AAAA;AAAA,wBARF;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAWE,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,sBAXF;AAAA,eAASrC,MAAM,EAAf;AAAA;AAAA;AAAA;AAAA,oBADF;AAeD;AACF,SArBA;AAFH;AAAA;AAAA;AAAA;AAAA,cAlDJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAiFD,CA3HD;;GAAMe,Q;UACoBb,a;;;MADpBa,Q;AA6HN,eAAeA,QAAf","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport tw from \"twin.macro\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport { AuthContext } from \"../general/auth-context\";\nimport { useHttpClient } from \"../general/http-hook\";\nimport Marginer from \"../general/marginer\";\nimport MeetingMenu from \"./meetingMenu\";\nimport Button from \"../general/button\";\n\nconst CardContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 25em;\n  min-width: 50em;\n  box-shadow: rgba(0, 0, 0, 0.09) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px,\n    rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px,\n    rgba(0, 0, 0, 0.09) 0px 32px 16px;\n  ${tw`\n    rounded-md\n    flex-col\n    bg-white\n    pt-4\n    pb-4\n    pr-8\n    pl-8\n  `};\n`;\n\nconst ItemContainer = styled.div`\n  ${tw`\n    flex relative\n    justify-center\n    rounded-md\n    hover:bg-gray-200\n    w-full\n    h-full\n  `};\n`;\n\nconst LineSeperator = styled.span`\n  width: 45%;\n  height: 2px;\n  ${tw`\n    bg-gray-300\n    mr-2\n    ml-2\n    md:mr-5\n    md:ml-5\n    \n  `};\n`;\n\nconst VerticalSeperator = styled.span`\n  width: 2px;\n  height: 4em;\n  ${tw`\n    bg-gray-300\n    mr-2\n    ml-2\n    md:mr-5\n    md:ml-5\n    flex\n    justify-center\nitems-center\n  `};\n`;\n\nconst Slogan = styled.h1`\n  ${tw`\n    font-semibold\n    text-xl\n    text-center\n  `};\n`;\n\nconst Details = styled.span`\n  ${tw`\n  flex\n  text-gray-600\n  text-lg\n  cursor-pointer\n  select-none\njustify-center\nitems-center\n  `};\n`;\n\nconst ViewCard = () => {\n  const { sendRequest } = useHttpClient();\n  const [date, setDate] = useState(new Date());\n  const [bookings, setBookings] = useState();\n  const auth = useContext(AuthContext);\n\n  const currentTime = date.getHours() + \":\" + date.getMinutes();\n\n  useEffect(() => {\n    const fetchBookings = async () => {\n      if (auth.isAdmin) {\n        try {\n          const responseData = await sendRequest({\n            url: \"http://localhost:5000/api/meetings/creator/retailps\",\n            headers: null,\n          });\n          setBookings(responseData.meetings);\n        } catch (err) {}\n      } else {\n        try {\n          const responseData = await sendRequest({\n            url: \"http://localhost:5000/api/meetings/\",\n            headers: null,\n          });\n          setBookings(responseData.meetings);\n        } catch (err) {}\n      }\n    };\n    fetchBookings();\n  }, [sendRequest, auth.isAdmin]);\n\n  useEffect(() => {\n    if (bookings) {\n      bookings.forEach((booking, idx) => {\n        if (booking.time <= currentTime && booking.status === \"Booked\") {\n          let prevState = [...bookings];\n          prevState[parseInt(idx)].status = \"Active\";\n          setBookings(prevState);\n        }\n      });\n    }\n  }, [currentTime, bookings]);\n  return (\n    <CardContainer>\n      <div>\n        <Slogan>Pending Bookings</Slogan>\n        <Marginer direction=\"vertical\" margin=\"3em\" />\n        {bookings && (\n          <ul style={{ listStyleType: \"none\" }}>\n            {/* Time Picker */}\n            {bookings.map((booking) => {\n              if (booking.status === \"Booked\" || booking.status === \"Active\") {\n                return (\n                  <li key={uuidv4()}>\n                    <ItemContainer>\n                      <Details>{booking.date}</Details>\n                      <Marginer direction=\"horizontal\" margin=\"1em\" />\n                      <VerticalSeperator />\n                      <Details>{booking.time}</Details>\n                      <Marginer direction=\"horizontal\" margin=\"1em\" />\n                      <VerticalSeperator />\n                      <Details>{booking.status}</Details>\n                      <Marginer direction=\"horizontal\" margin=\"1em\" />\n                      <VerticalSeperator />\n                      <Details>{booking.reason}</Details>\n                      <Marginer direction=\"horizontal\" margin=\"1em\" />\n                      <Button\n                        text={\n                          booking.status === \"Active\"\n                            ? \"Join Meeting\"\n                            : \"Not Available\"\n                        }\n                        to={`/videochat/${booking.id}`}\n                        size={\"small\"}\n                        disabled={booking.status !== \"Active\"}\n                      />\n                      <Marginer direction=\"horizontal\" margin=\"3em\" />\n                      <MeetingMenu id={booking.id} />\n                    </ItemContainer>\n                    <LineSeperator />\n                  </li>\n                );\n              }\n            })}\n          </ul>\n        )}\n\n        <Marginer direction=\"vertical\" margin=\"3em\" />\n        <LineSeperator />\n        <Marginer direction=\"vertical\" margin=\"3em\" />\n\n        <Slogan>Past Bookings</Slogan>\n        <Marginer direction=\"vertical\" margin=\"3em\" />\n        {bookings && (\n          <ul style={{ listStyleType: \"none\" }}>\n            {/* Time Picker */}\n            {bookings.map((booking) => {\n              if (\n                booking.status === \"Completed\" ||\n                booking.status === \"Cancelled\"\n              ) {\n                return (\n                  <li key={uuidv4()}>\n                    <ItemContainer>\n                      <Details>{booking.date}</Details>\n                      <Marginer direction=\"horizontal\" margin=\"1em\" />\n                      <VerticalSeperator />\n                      <Details>{booking.time}</Details>\n                      <Marginer direction=\"horizontal\" margin=\"1em\" />\n                      <VerticalSeperator />\n                      <Details>{booking.status}</Details>\n                      <Marginer direction=\"horizontal\" margin=\"1em\" />\n                    </ItemContainer>\n                    <LineSeperator />\n                  </li>\n                );\n              }\n            })}\n          </ul>\n        )}\n      </div>\n    </CardContainer>\n  );\n};\n\nexport default ViewCard;\n"]},"metadata":{},"sourceType":"module"}