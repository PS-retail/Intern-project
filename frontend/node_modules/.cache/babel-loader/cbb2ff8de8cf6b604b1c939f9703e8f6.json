{"ast":null,"code":"var _jsxFileName = \"/Users/annllamb/Documents/GitHub/Intern-project/frontend/src/components/meeting/editCard.jsx\",\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { faCalendarAlt, faCaretDown, faCaretUp, faClock, faAngleDown } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport styled, { css } from \"styled-components\";\nimport DatePicker from \"react-datepicker\";\nimport \"../../../node_modules/react-datepicker/dist/react-datepicker.css\";\nimport MyTimePicker from \"./timePicker\";\nimport Select from \"@material-ui/core/Select\";\nimport { useParams } from 'react-router';\nimport { useHttpClient } from \"../general/http-hook\";\nimport Button from \"../general/button\";\nimport Marginer from \"../general/marginer\";\nimport Temporary from \"../general/temporary\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CardContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 25em;\n  box-shadow: rgba(0, 0, 0, 0.09) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px,\n    rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px,\n    rgba(0, 0, 0, 0.09) 0px 32px 16px;\n  ${{\n  \"borderRadius\": \"0.375rem\",\n  \"flexDirection\": \"column\",\n  \"--tw-bg-opacity\": \"1\",\n  \"backgroundColor\": \"rgba(255, 255, 255, var(--tw-bg-opacity))\",\n  \"paddingTop\": \"1rem\",\n  \"paddingBottom\": \"1rem\",\n  \"paddingRight\": \"2rem\",\n  \"paddingLeft\": \"2rem\",\n  \"zIndex\": \"50\"\n}};\n`;\n_c = CardContainer;\nconst ItemContainer = styled.div`\n  ${{\n  \"display\": \"flex\",\n  \"position\": \"relative\",\n  \"marginLeft\": \"auto\",\n  \"marginRight\": \"auto\",\n  \"marginBottom\": \"1.25rem\"\n}};\n`;\n_c2 = ItemContainer;\nconst Icon = styled.span`\n  ${{\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"rgba(0, 0, 0, var(--tw-text-opacity))\",\n  \"fill\": \"currentColor\",\n  \"fontSize\": \"0.75rem\",\n  \"lineHeight\": \"1rem\",\n  \"marginRight\": \"0.25rem\",\n  \"@media (min-width: 768px)\": {\n    \"fontSize\": \"1rem\",\n    \"lineHeight\": \"1.5rem\",\n    \"marginRight\": \"0.75rem\"\n  }\n}};\n`;\n_c3 = Icon;\nconst SmallIcon = styled.span`\n  ${{\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"rgba(107, 114, 128, var(--tw-text-opacity))\",\n  \"fill\": \"currentColor\",\n  \"fontSize\": \"0.75rem\",\n  \"lineHeight\": \"1rem\",\n  \"marginLeft\": \"0.25rem\",\n  \"@media (min-width: 768px)\": {\n    \"fontSize\": \"1rem\",\n    \"lineHeight\": \"1.5rem\"\n  }\n}};\n`;\n_c4 = SmallIcon;\nconst Name = styled.span`\n  ${{\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"rgba(75, 85, 99, var(--tw-text-opacity))\",\n  \"fontSize\": \"1.125rem\",\n  \"lineHeight\": \"1.75rem\",\n  \"cursor\": \"pointer\",\n  \"userSelect\": \"none\"\n}};\n`;\n_c5 = Name;\nconst LineSeperator = styled.span`\n  width: 45%;\n  height: 2px;\n  ${{\n  \"--tw-bg-opacity\": \"1\",\n  \"backgroundColor\": \"rgba(209, 213, 219, var(--tw-bg-opacity))\",\n  \"marginRight\": \"0.5rem\",\n  \"marginLeft\": \"0.5rem\",\n  \"@media (min-width: 768px)\": {\n    \"marginRight\": \"1.25rem\",\n    \"marginLeft\": \"1.25rem\"\n  }\n}};\n`;\n_c6 = LineSeperator;\nconst Slogan = styled.h1`\n  ${{\n  \"fontWeight\": \"600\",\n  \"fontSize\": \"1.25rem\",\n  \"lineHeight\": \"1.75rem\",\n  \"textAlign\": \"center\"\n}};\n`;\n_c7 = Slogan;\nconst Footer = styled.h1`\n  ${{\n  \"fontSize\": \"1rem\",\n  \"lineHeight\": \"1.5rem\",\n  \"textAlign\": \"center\",\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"rgba(52, 211, 153, var(--tw-text-opacity))\"\n}};\n`;\n_c8 = Footer;\nconst DateCalendar = styled(DatePicker)`\n  position: absolute;\n  max-width: none;\n  user-select: none;\n  top: 2em;\n  left: 0;\n  z-index: 100;\n  ${({\n  offset\n}) => offset && css`\n      left: -6em;\n    `};\n`;\n_c9 = DateCalendar;\n\nconst EditCard = () => {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const [form, setForm] = useState(null);\n  const [completion, setCompletion] = useState(false);\n  const {\n    sendRequest\n  } = useHttpClient();\n  const id = useParams().id;\n  const [isStartCalendarOpen, setStartCalendarOpen] = useState(false);\n  const wrapperRef = useRef();\n  useEffect(() => {\n    const fetchBooking = async () => {\n      try {\n        const responseData = await sendRequest({\n          url: `http://localhost:5000/api/meetings/${id}`,\n          headers: null\n        });\n        setForm(responseData.meeting);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    fetchBooking();\n  }, [sendRequest, id]);\n\n  const useOutsideAlerter = ref => {\n    _s();\n\n    useEffect(() => {\n      /**\n       * Alert if clicked on outside of element\n       */\n      function handleClickOutside(event) {\n        if (ref.current && !ref.current.contains(event.target)) {\n          setStartCalendarOpen(false);\n        }\n      } // Bind the event listener\n\n\n      document.addEventListener(\"mousedown\", handleClickOutside);\n      return () => {\n        // Unbind the event listener on clean up\n        document.removeEventListener(\"mousedown\", handleClickOutside);\n      };\n    }, [ref]);\n  };\n\n  _s(useOutsideAlerter, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n  const toggleStartDateCalendar = () => {\n    setStartCalendarOpen(!isStartCalendarOpen);\n  };\n\n  const submitHandler = async event => {\n    event.preventDefault();\n\n    try {\n      await sendRequest({\n        url: `http://localhost:5000/api/meetings/${id}`,\n        method: \"patch\",\n        data: JSON.stringify({\n          date: form.date.toString().split(\" \").slice(0, 4).join(\"-\"),\n          time: form.time,\n          reason: form.reason || \"\",\n          participants: form.participants,\n          status: form.status\n        }),\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n    } catch (err) {\n      console.log(err);\n    }\n\n    setCompletion(true);\n  };\n\n  const handleChange = event => {\n    setForm({ ...form,\n      reason: event.target.value\n    });\n  };\n\n  useOutsideAlerter(wrapperRef);\n  return /*#__PURE__*/_jsxDEV(CardContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Slogan, {\n      children: \"Edit Details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n      direction: \"vertical\",\n      margin: \"3em\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), form && /*#__PURE__*/_jsxDEV(ItemContainer, {\n      ref: wrapperRef,\n      children: [/*#__PURE__*/_jsxDEV(Icon, {\n        children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faCalendarAlt\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Name, {\n        onClick: toggleStartDateCalendar,\n        children: \"Call Date\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n        direction: \"horizontal\",\n        margin: \"1em\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Name, {\n        onClick: toggleStartDateCalendar,\n        children: form.date.toString().split(\" \").slice(0, 4).join(\"-\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(SmallIcon, {\n        children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: isStartCalendarOpen ? faCaretUp : faCaretDown\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 11\n      }, this), isStartCalendarOpen && /*#__PURE__*/_jsxDEV(DateCalendar, {\n        value: form.date,\n        onChange: date => setForm({ ...form,\n          date: date\n        }),\n        offset: true,\n        inline: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 9\n    }, this), form && /*#__PURE__*/_jsxDEV(ItemContainer, {\n      children: [/*#__PURE__*/_jsxDEV(Icon, {\n        children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faClock\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Name, {\n        children: \"Call Time\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n        direction: \"horizontal\",\n        margin: \"1em\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(MyTimePicker, {\n        value: form.time,\n        onChange: time => {\n          console.log(form);\n          setForm({ ...form,\n            time: time\n          });\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 9\n    }, this), form && /*#__PURE__*/_jsxDEV(ItemContainer, {\n      children: [/*#__PURE__*/_jsxDEV(Icon, {\n        children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faAngleDown\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Name, {\n        children: \"Reason\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n        direction: \"horizontal\",\n        margin: \"1em\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        labelId: \"demo-simple-select-label\",\n        style: {\n          minWidth: 120\n        },\n        displayEmpty: true,\n        inputProps: {\n          \"aria-label\": \"Without label\"\n        },\n        value: form.reason,\n        onChange: handleChange,\n        children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n          value: 'Purchase',\n          children: \"Purchase\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: 'Inquiry',\n          children: \"Inquiry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: 'Delivery',\n          children: \"Delivery\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: 'Unspecified',\n          children: \"Unspecified\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n      direction: \"vertical\",\n      margin: \"3em\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LineSeperator, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n      direction: \"vertical\",\n      margin: \"3em\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this), completion && /*#__PURE__*/_jsxDEV(Temporary, {\n      completion: completion,\n      children: /*#__PURE__*/_jsxDEV(Footer, {\n        children: \"Edit Completed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n      direction: \"vertical\",\n      margin: \"1.4em\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      text: \"Edit Your Call\",\n      onClick: submitHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(EditCard, \"Hrzi7CUGrKwmdKY87g5lGJ+VLHc=\", true, function () {\n  return [useHttpClient, useParams];\n});\n\n_c10 = EditCard;\nexport default EditCard;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10;\n\n$RefreshReg$(_c, \"CardContainer\");\n$RefreshReg$(_c2, \"ItemContainer\");\n$RefreshReg$(_c3, \"Icon\");\n$RefreshReg$(_c4, \"SmallIcon\");\n$RefreshReg$(_c5, \"Name\");\n$RefreshReg$(_c6, \"LineSeperator\");\n$RefreshReg$(_c7, \"Slogan\");\n$RefreshReg$(_c8, \"Footer\");\n$RefreshReg$(_c9, \"DateCalendar\");\n$RefreshReg$(_c10, \"EditCard\");","map":{"version":3,"sources":["/Users/annllamb/Documents/GitHub/Intern-project/frontend/src/components/meeting/editCard.jsx"],"names":["React","useState","useRef","useEffect","MenuItem","faCalendarAlt","faCaretDown","faCaretUp","faClock","faAngleDown","FontAwesomeIcon","styled","css","DatePicker","MyTimePicker","Select","useParams","useHttpClient","Button","Marginer","Temporary","CardContainer","div","ItemContainer","Icon","span","SmallIcon","Name","LineSeperator","Slogan","h1","Footer","DateCalendar","offset","EditCard","form","setForm","completion","setCompletion","sendRequest","id","isStartCalendarOpen","setStartCalendarOpen","wrapperRef","fetchBooking","responseData","url","headers","meeting","err","console","log","useOutsideAlerter","ref","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","toggleStartDateCalendar","submitHandler","preventDefault","method","data","JSON","stringify","date","toString","split","slice","join","time","reason","participants","status","handleChange","value","minWidth"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport {\n  faCalendarAlt,\n  faCaretDown,\n  faCaretUp,\n  faClock,\n  faAngleDown,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport styled, { css } from \"styled-components\";\nimport tw from \"twin.macro\";\nimport DatePicker from \"react-datepicker\";\nimport \"../../../node_modules/react-datepicker/dist/react-datepicker.css\";\nimport MyTimePicker from \"./timePicker\";\nimport Select from \"@material-ui/core/Select\";\nimport { useParams } from 'react-router';\n\nimport { useHttpClient } from \"../general/http-hook\";\nimport Button from \"../general/button\";\nimport Marginer from \"../general/marginer\";\nimport Temporary from \"../general/temporary\";\n\nconst CardContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 25em;\n  box-shadow: rgba(0, 0, 0, 0.09) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px,\n    rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px,\n    rgba(0, 0, 0, 0.09) 0px 32px 16px;\n  ${tw`\n    rounded-md\n    flex-col\n    bg-white\n    pt-4\n    pb-4\n    pr-8\n    pl-8\n    z-50\n  `};\n`;\n\nconst ItemContainer = styled.div`\n  ${tw`\n    flex relative\n    ml-auto\n    mr-auto\n    mb-5\n  `};\n`;\n\nconst Icon = styled.span`\n  ${tw`\n    text-black\n      fill-current\n      text-xs\n      md:text-base\n      mr-1\n      md:mr-3\n  `};\n`;\n\nconst SmallIcon = styled.span`\n  ${tw`\n    text-gray-500\n    fill-current\n    text-xs\n    md:text-base\n    ml-1\n  `};\n`;\n\nconst Name = styled.span`\n  ${tw`\n    text-gray-600\n    text-lg\n    cursor-pointer\n    select-none\n  `};\n`;\n\nconst LineSeperator = styled.span`\n  width: 45%;\n  height: 2px;\n  ${tw`\n    bg-gray-300\n    mr-2\n    ml-2\n    md:mr-5\n    md:ml-5\n  `};\n`;\n\nconst Slogan = styled.h1`\n  ${tw`\n    font-semibold\n    text-xl\n    text-center\n  `};\n`;\n\nconst Footer = styled.h1`\n  ${tw`\n    text-base\n    text-center\n    text-green-400\n  `};\n`;\n\nconst DateCalendar = styled(DatePicker)`\n  position: absolute;\n  max-width: none;\n  user-select: none;\n  top: 2em;\n  left: 0;\n  z-index: 100;\n  ${({ offset }) =>\n    offset &&\n    css`\n      left: -6em;\n    `};\n`;\nconst EditCard = () => {\n  const [form, setForm] = useState(null);\n  const [completion, setCompletion] = useState(false);\n  const { sendRequest } = useHttpClient();\n  const id = useParams().id;\n\n  const [isStartCalendarOpen, setStartCalendarOpen] = useState(false);\n  const wrapperRef = useRef();\n\n  useEffect(() => {\n    const fetchBooking = async () => {\n      try {\n        const responseData = await sendRequest({\n          url: `http://localhost:5000/api/meetings/${id}`,\n          headers: null,\n        });\n        setForm(responseData.meeting);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchBooking();\n  }, [sendRequest, id]);\n\n  const useOutsideAlerter = (ref) => {\n    useEffect(() => {\n      /**\n       * Alert if clicked on outside of element\n       */\n      function handleClickOutside(event) {\n        if (ref.current && !ref.current.contains(event.target)) {\n          setStartCalendarOpen(false);\n        }\n      }\n\n      // Bind the event listener\n      document.addEventListener(\"mousedown\", handleClickOutside);\n      return () => {\n        // Unbind the event listener on clean up\n        document.removeEventListener(\"mousedown\", handleClickOutside);\n      };\n    }, [ref]);\n  };\n\n  const toggleStartDateCalendar = () => {\n    setStartCalendarOpen(!isStartCalendarOpen);\n  };\n\n  const submitHandler = async (event) => {\n    event.preventDefault();\n    try {\n        await sendRequest({\n        url: `http://localhost:5000/api/meetings/${id}`,\n        method: \"patch\",\n        data: JSON.stringify({\n          date: form.date.toString().split(\" \").slice(0, 4).join(\"-\"),\n          time: form.time,\n          reason: form.reason || \"\",\n          participants: form.participants,\n          status: form.status,\n        }),\n        headers: { \"Content-Type\": \"application/json\" },\n      });\n    } catch (err) {\n      console.log(err);\n    }\n    setCompletion(true);\n  };\n\n  const handleChange = (event) => {\n    setForm({ ...form, reason: event.target.value });\n  };\n\n  useOutsideAlerter(wrapperRef);\n\n  return (\n    <CardContainer>\n      <Slogan>Edit Details</Slogan>\n      <Marginer direction=\"vertical\" margin=\"3em\" />\n      {/* Date Picker */}\n      {form && (\n        <ItemContainer ref={wrapperRef}>\n          <Icon>\n            <FontAwesomeIcon icon={faCalendarAlt} />\n          </Icon>\n          <Name onClick={toggleStartDateCalendar}>Call Date</Name>\n          <Marginer direction=\"horizontal\" margin=\"1em\" />\n          <Name onClick={toggleStartDateCalendar}>\n            {form.date.toString().split(\" \").slice(0, 4).join(\"-\")}\n          </Name>\n          <SmallIcon>\n            <FontAwesomeIcon\n              icon={isStartCalendarOpen ? faCaretUp : faCaretDown}\n            />\n          </SmallIcon>\n          {isStartCalendarOpen && (\n            <DateCalendar\n              value={form.date}\n              onChange={(date) => setForm({ ...form, date: date })}\n              offset\n              inline\n            />\n          )}\n        </ItemContainer>\n      )}\n      {/* Time Picker */}\n      {form && (\n        <ItemContainer>\n          <Icon>\n            <FontAwesomeIcon icon={faClock} />\n          </Icon>\n          <Name>Call Time</Name>\n          <Marginer direction=\"horizontal\" margin=\"1em\" />\n          <MyTimePicker\n            value={form.time}\n            onChange={(time) => {\n              console.log(form);\n              setForm({ ...form, time: time });\n            }}\n          />\n        </ItemContainer>\n      )}\n      {/* Choice Picker */}\n      {form && (\n        <ItemContainer>\n          <Icon>\n            <FontAwesomeIcon icon={faAngleDown} />\n          </Icon>\n          <Name>Reason</Name>\n          <Marginer direction=\"horizontal\" margin=\"1em\" />\n          <Select\n            labelId=\"demo-simple-select-label\"\n            style = {{minWidth : 120}}\n            displayEmpty\n            inputProps={{ \"aria-label\": \"Without label\" }}\n            value={form.reason}\n            onChange={handleChange}\n          >\n            <MenuItem value={'Purchase'}>Purchase</MenuItem>\n            <MenuItem value={'Inquiry'}>Inquiry</MenuItem>\n            <MenuItem value={'Delivery'}>Delivery</MenuItem>\n            <MenuItem value={'Unspecified'}>Unspecified</MenuItem>\n          </Select>\n        </ItemContainer>\n      )}\n      <Marginer direction=\"vertical\" margin=\"3em\" />\n      <LineSeperator />\n      <Marginer direction=\"vertical\" margin=\"3em\" />\n      {completion && (\n        <Temporary completion={completion}>\n          <Footer>Edit Completed</Footer>\n        </Temporary>\n      )}\n      <Marginer direction=\"vertical\" margin=\"1.4em\" />\n      <Button text=\"Edit Your Call\" onClick={submitHandler} />\n    </CardContainer>\n  );\n};\n\nexport default EditCard;\n"]},"metadata":{},"sourceType":"module"}