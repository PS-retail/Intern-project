{"ast":null,"code":"var _jsxFileName = \"/Users/annllamb/Documents/GitHub/Intern-project/frontend/src/components/videoChat/videoChat.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { videoToken } from \"./token\";\nimport styled from \"styled-components\";\nimport Room from \"./room\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nrequire(\"dotenv\").config();\n\nconst Slogan = styled.span`\n  ${{\n  \"fontWeight\": \"600\",\n  \"fontSize\": \"1.25rem\",\n  \"lineHeight\": \"1.75rem\",\n  \"textAlign\": \"center\"\n}};\n`;\n_c = Slogan;\n\nconst VideoChat = ({\n  username,\n  roomName\n}) => {\n  _s();\n\n  const [token, setToken] = useState(null);\n  const history = useHistory();\n  const handleSubmit = useCallback(async () => {\n    const data = videoToken(username, roomName);\n    setToken(data.toJwt());\n  }, [username, roomName]);\n  useEffect(() => {\n    handleSubmit();\n  }, [handleSubmit]);\n  const handleLogout = useCallback(event => {\n    setToken(null);\n    history.push('/');\n  }, [history]);\n  let render;\n\n  if (token) {\n    render = /*#__PURE__*/_jsxDEV(Room, {\n      roomName: roomName,\n      token: token,\n      handleLogout: handleLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this);\n  } else {\n    render = /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex'\n      },\n      children: /*#__PURE__*/_jsxDEV(Slogan, {\n        children: \"Error. Please Try Again! Log back in or refresh your session!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this);\n  }\n\n  return render;\n};\n\n_s(VideoChat, \"EB1YIyg6LTNp8x6g4ve/4R+YGmk=\", false, function () {\n  return [useHistory];\n});\n\n_c2 = VideoChat;\nexport default VideoChat;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Slogan\");\n$RefreshReg$(_c2, \"VideoChat\");","map":{"version":3,"sources":["/Users/annllamb/Documents/GitHub/Intern-project/frontend/src/components/videoChat/videoChat.js"],"names":["React","useState","useEffect","useCallback","useHistory","videoToken","styled","Room","require","config","Slogan","span","VideoChat","username","roomName","token","setToken","history","handleSubmit","data","toJwt","handleLogout","event","push","render","display"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,WAArC,QAAwD,OAAxD;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,UAAT,QAA2B,SAA3B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,OAAOC,IAAP,MAAiB,QAAjB;;;AAEAC,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,MAAMC,MAAM,GAAGJ,MAAM,CAACK,IAAK;AAC3B,IAAM;AAAA;AAAA;AAAA;AAAA;AAAA,CAIF;AACJ,CANA;KAAMD,M;;AAQN,MAAME,SAAS,GAAG,CAAC;AAAEC,EAAAA,QAAF;AAAYC,EAAAA;AAAZ,CAAD,KAA4B;AAAA;;AAC5C,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBf,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAMgB,OAAO,GAAGb,UAAU,EAA1B;AAGA,QAAMc,YAAY,GAAGf,WAAW,CAC9B,YAAY;AACV,UAAMgB,IAAI,GAAGd,UAAU,CAACQ,QAAD,EAAWC,QAAX,CAAvB;AACAE,IAAAA,QAAQ,CAACG,IAAI,CAACC,KAAL,EAAD,CAAR;AACD,GAJ6B,EAK9B,CAACP,QAAD,EAAWC,QAAX,CAL8B,CAAhC;AAQAZ,EAAAA,SAAS,CAAC,MAAM;AACdgB,IAAAA,YAAY;AACb,GAFQ,EAEN,CAACA,YAAD,CAFM,CAAT;AAIA,QAAMG,YAAY,GAAGlB,WAAW,CAAEmB,KAAD,IAAW;AAC1CN,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACAC,IAAAA,OAAO,CAACM,IAAR,CAAa,GAAb;AACD,GAH+B,EAG7B,CAACN,OAAD,CAH6B,CAAhC;AAKA,MAAIO,MAAJ;;AACA,MAAIT,KAAJ,EAAW;AACTS,IAAAA,MAAM,gBACJ,QAAC,IAAD;AAAM,MAAA,QAAQ,EAAEV,QAAhB;AAA0B,MAAA,KAAK,EAAEC,KAAjC;AAAwC,MAAA,YAAY,EAAEM;AAAtD;AAAA;AAAA;AAAA;AAAA,YADF;AAGD,GAJD,MAIO;AACLG,IAAAA,MAAM,gBACJ;AAAK,MAAA,KAAK,EAAI;AAACC,QAAAA,OAAO,EAAE;AAAV,OAAd;AAAA,6BACE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAKD;;AACD,SAAOD,MAAP;AACD,CAnCD;;GAAMZ,S;UAEYR,U;;;MAFZQ,S;AAqCN,eAAeA,SAAf","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { videoToken } from \"./token\";\nimport styled from \"styled-components\";\nimport tw from \"twin.macro\";\nimport Room from \"./room\";\n\nrequire(\"dotenv\").config();\n\nconst Slogan = styled.span`\n  ${tw`\n    font-semibold\n    text-xl\n    text-center\n  `};\n`;\n\nconst VideoChat = ({ username, roomName }) => {\n  const [token, setToken] = useState(null);\n  const history = useHistory();\n\n\n  const handleSubmit = useCallback(\n    async () => {\n      const data = videoToken(username, roomName);\n      setToken(data.toJwt());\n    },\n    [username, roomName]\n  );\n\n  useEffect(() => {\n    handleSubmit();\n  }, [handleSubmit]);\n\n  const handleLogout = useCallback((event) => {\n    setToken(null);\n    history.push('/');\n  }, [history]);\n\n  let render;\n  if (token) {\n    render = (\n      <Room roomName={roomName} token={token} handleLogout={handleLogout} />\n    );\n  } else {\n    render = (\n      <div style = {{display: 'flex'}}>\n        <Slogan>Error. Please Try Again! Log back in or refresh your session!</Slogan>\n      </div>\n    );\n  }\n  return render;\n};\n\nexport default VideoChat;\n"]},"metadata":{},"sourceType":"module"}