{"ast":null,"code":"var _jsxFileName = \"/Users/annllamb/Documents/GitHub/Intern-project/frontend/src/components/meeting/viewCard.js\",\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { useHttpClient } from \"../general/http-hook\";\nimport Marginer from \"../general/marginer\";\nimport MeetingMenu from \"./meetingMenu\";\nimport Button from \"../general/button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CardContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 25em;\n  min-width: 50em;\n  box-shadow: rgba(0, 0, 0, 0.09) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px,\n    rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px,\n    rgba(0, 0, 0, 0.09) 0px 32px 16px;\n  ${{\n  \"borderRadius\": \"0.375rem\",\n  \"flexDirection\": \"column\",\n  \"--tw-bg-opacity\": \"1\",\n  \"backgroundColor\": \"rgba(255, 255, 255, var(--tw-bg-opacity))\",\n  \"paddingTop\": \"1rem\",\n  \"paddingBottom\": \"1rem\",\n  \"paddingRight\": \"2rem\",\n  \"paddingLeft\": \"2rem\"\n}};\n`;\n_c = CardContainer;\nconst ItemContainer = styled.div`\n  ${{\n  \"display\": \"flex\",\n  \"position\": \"relative\",\n  \"justifyContent\": \"center\",\n  \"borderRadius\": \"0.375rem\",\n  \":hover\": {\n    \"--tw-bg-opacity\": \"1\",\n    \"backgroundColor\": \"rgba(229, 231, 235, var(--tw-bg-opacity))\"\n  },\n  \"width\": \"100%\",\n  \"height\": \"100%\"\n}};\n`;\n_c2 = ItemContainer;\nconst LineSeperator = styled.span`\n  width: 45%;\n  height: 2px;\n  ${{\n  \"--tw-bg-opacity\": \"1\",\n  \"backgroundColor\": \"rgba(209, 213, 219, var(--tw-bg-opacity))\",\n  \"marginRight\": \"0.5rem\",\n  \"marginLeft\": \"0.5rem\",\n  \"@media (min-width: 768px)\": {\n    \"marginRight\": \"1.25rem\",\n    \"marginLeft\": \"1.25rem\"\n  }\n}};\n`;\n_c3 = LineSeperator;\nconst VerticalSeperator = styled.span`\n  width: 2px;\n  height: 4em;\n  ${{\n  \"--tw-bg-opacity\": \"1\",\n  \"backgroundColor\": \"rgba(209, 213, 219, var(--tw-bg-opacity))\",\n  \"marginRight\": \"0.5rem\",\n  \"marginLeft\": \"0.5rem\",\n  \"display\": \"flex\",\n  \"justifyContent\": \"center\",\n  \"alignItems\": \"center\",\n  \"@media (min-width: 768px)\": {\n    \"marginRight\": \"1.25rem\",\n    \"marginLeft\": \"1.25rem\"\n  }\n}};\n`;\n_c4 = VerticalSeperator;\nconst Slogan = styled.h1`\n  ${{\n  \"fontWeight\": \"600\",\n  \"fontSize\": \"1.25rem\",\n  \"lineHeight\": \"1.75rem\",\n  \"textAlign\": \"center\"\n}};\n`;\n_c5 = Slogan;\nconst Details = styled.span`\n  ${{\n  \"display\": \"flex\",\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"rgba(75, 85, 99, var(--tw-text-opacity))\",\n  \"fontSize\": \"1.125rem\",\n  \"lineHeight\": \"1.75rem\",\n  \"cursor\": \"pointer\",\n  \"userSelect\": \"none\",\n  \"justifyContent\": \"center\",\n  \"alignItems\": \"center\"\n}};\n`;\n_c6 = Details;\n\nconst ViewCard = () => {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const {\n    sendRequest\n  } = useHttpClient();\n  const [editMenuOpen, setEditMenuOpen] = useState(false);\n  const [date, setDate] = useState(new Date());\n  const editRef = useRef();\n  const [bookings, setBookings] = useState();\n  const currentTime = date.getHours() + \":\" + date.getMinutes();\n  useEffect(() => {\n    const fetchBookings = async () => {\n      try {\n        const responseData = await sendRequest({\n          url: \"http://localhost:5000/api/meetings/creator/retailps\",\n          headers: null\n        });\n        setBookings(responseData.meetings);\n      } catch (err) {}\n    };\n\n    fetchBookings();\n  }, [sendRequest]);\n  useEffect(() => {\n    if (bookings) {\n      bookings.forEach((booking, idx) => {\n        if (booking.time <= currentTime && booking.status === \"Booked\") {\n          let prevState = [...bookings];\n          prevState[parseInt(idx)].status = \"Active\";\n          setBookings(prevState);\n        }\n      });\n    }\n  }, [currentTime, bookings]);\n\n  const useOutsideAlerter = ref => {\n    _s();\n\n    useEffect(() => {\n      /**\n       * Alert if clicked on outside of element\n       */\n      function handleClickOutside(event) {\n        if (ref.current && !ref.current.contains(event.target)) {\n          // if (isStartCalendarOpen) {\n          //     setStartCalendarOpen(false);\n          // }\n          setEditMenuOpen(false);\n        }\n      } // Bind the event listener\n\n\n      document.addEventListener(\"mousedown\", handleClickOutside);\n      return () => {\n        // Unbind the event listener on clean up\n        document.removeEventListener(\"mousedown\", handleClickOutside);\n      };\n    }, [ref]);\n  };\n\n  _s(useOutsideAlerter, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n  useOutsideAlerter(editRef);\n  return /*#__PURE__*/_jsxDEV(CardContainer, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: editRef,\n      children: [/*#__PURE__*/_jsxDEV(Slogan, {\n        children: \"Pending Bookings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n        direction: \"vertical\",\n        margin: \"3em\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 7\n      }, this), bookings && /*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          listStyleType: \"none\"\n        },\n        children: bookings.map(booking => {\n          if (booking.status === \"Booked\" || booking.status === \"Active\") {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(ItemContainer, {\n                children: [/*#__PURE__*/_jsxDEV(Details, {\n                  children: booking.date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n                  direction: \"horizontal\",\n                  margin: \"1em\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(VerticalSeperator, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Details, {\n                  children: booking.time\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n                  direction: \"horizontal\",\n                  margin: \"1em\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(VerticalSeperator, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Details, {\n                  children: booking.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n                  direction: \"horizontal\",\n                  margin: \"1em\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(VerticalSeperator, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Details, {\n                  children: booking.reason\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n                  direction: \"horizontal\",\n                  margin: \"1em\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  text: booking.status === \"Active\" ? \"Join Meeting\" : \"Not Available\",\n                  to: `/videochat/${booking.id}`,\n                  size: \"small\",\n                  disabled: booking.status !== \"Active\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n                  direction: \"horizontal\",\n                  margin: \"3em\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MeetingMenu, {\n                  id: booking.id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(LineSeperator, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 19\n              }, this)]\n            }, uuidv4(), true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 17\n            }, this);\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n        direction: \"vertical\",\n        margin: \"3em\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(LineSeperator, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n        direction: \"vertical\",\n        margin: \"3em\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Slogan, {\n        children: \"Past Bookings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n        direction: \"vertical\",\n        margin: \"3em\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 7\n      }, this), bookings && /*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          listStyleType: \"none\"\n        },\n        children: bookings.map(booking => {\n          if (booking.status === \"Completed\" || booking.status === \"Cancelled\") {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(ItemContainer, {\n                children: [/*#__PURE__*/_jsxDEV(Details, {\n                  children: booking.date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n                  direction: \"horizontal\",\n                  margin: \"1em\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(VerticalSeperator, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Details, {\n                  children: booking.time\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n                  direction: \"horizontal\",\n                  margin: \"1em\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(VerticalSeperator, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Details, {\n                  children: booking.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n                  direction: \"horizontal\",\n                  margin: \"1em\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(LineSeperator, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 19\n              }, this)]\n            }, uuidv4(), true, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 17\n            }, this);\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(ViewCard, \"zHHMtot5KavOEK+9r6JLZamDWHY=\", true, function () {\n  return [useHttpClient];\n});\n\n_c7 = ViewCard;\nexport default ViewCard;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"CardContainer\");\n$RefreshReg$(_c2, \"ItemContainer\");\n$RefreshReg$(_c3, \"LineSeperator\");\n$RefreshReg$(_c4, \"VerticalSeperator\");\n$RefreshReg$(_c5, \"Slogan\");\n$RefreshReg$(_c6, \"Details\");\n$RefreshReg$(_c7, \"ViewCard\");","map":{"version":3,"sources":["/Users/annllamb/Documents/GitHub/Intern-project/frontend/src/components/meeting/viewCard.js"],"names":["React","useState","useEffect","useRef","styled","v4","uuidv4","useHttpClient","Marginer","MeetingMenu","Button","CardContainer","div","ItemContainer","LineSeperator","span","VerticalSeperator","Slogan","h1","Details","ViewCard","sendRequest","editMenuOpen","setEditMenuOpen","date","setDate","Date","editRef","bookings","setBookings","currentTime","getHours","getMinutes","fetchBookings","responseData","url","headers","meetings","err","forEach","booking","idx","time","status","prevState","parseInt","useOutsideAlerter","ref","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","listStyleType","map","reason","id"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,SAASC,EAAE,IAAIC,MAAf,QAA6B,MAA7B;AAEA,SAASC,aAAT,QAA8B,sBAA9B;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;;AAGA,MAAMC,aAAa,GAAGP,MAAM,CAACQ,GAAI;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAQF;AACJ,CAlBA;KAAMD,a;AAoBN,MAAME,aAAa,GAAGT,MAAM,CAACQ,GAAI;AACjC,IAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAOF;AACJ,CATA;MAAMC,a;AAWN,MAAMC,aAAa,GAAGV,MAAM,CAACW,IAAK;AAClC;AACA;AACA,IAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAOF;AACJ,CAXA;MAAMD,a;AAaN,MAAME,iBAAiB,GAAGZ,MAAM,CAACW,IAAK;AACtC;AACA;AACA,IAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CASF;AACJ,CAbA;MAAMC,iB;AAeN,MAAMC,MAAM,GAAGb,MAAM,CAACc,EAAG;AACzB,IAAM;AAAA;AAAA;AAAA;AAAA;AAAA,CAIF;AACJ,CANA;MAAMD,M;AAQN,MAAME,OAAO,GAAGf,MAAM,CAACW,IAAK;AAC5B,IAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAQF;AACJ,CAVA;MAAMI,O;;AAYN,MAAMC,QAAQ,GAAG,MAAM;AAAA;;AAAA;;AACrB,QAAM;AAAEC,IAAAA;AAAF,MAAkBd,aAAa,EAArC;AACA,QAAM,CAACe,YAAD,EAAeC,eAAf,IAAkCtB,QAAQ,CAAC,KAAD,CAAhD;AACA,QAAM,CAACuB,IAAD,EAAOC,OAAP,IAAkBxB,QAAQ,CAAC,IAAIyB,IAAJ,EAAD,CAAhC;AACA,QAAMC,OAAO,GAAGxB,MAAM,EAAtB;AACA,QAAM,CAACyB,QAAD,EAAWC,WAAX,IAA0B5B,QAAQ,EAAxC;AAEA,QAAM6B,WAAW,GAAGN,IAAI,CAACO,QAAL,KAAkB,GAAlB,GAAwBP,IAAI,CAACQ,UAAL,EAA5C;AAGA9B,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM+B,aAAa,GAAG,YAAY;AAChC,UAAI;AACF,cAAMC,YAAY,GAAG,MAAMb,WAAW,CAAC;AACrCc,UAAAA,GAAG,EAAE,qDADgC;AAErCC,UAAAA,OAAO,EAAE;AAF4B,SAAD,CAAtC;AAIAP,QAAAA,WAAW,CAACK,YAAY,CAACG,QAAd,CAAX;AACD,OAND,CAME,OAAOC,GAAP,EAAY,CAAE;AACjB,KARD;;AASAL,IAAAA,aAAa;AACd,GAXQ,EAWN,CAACZ,WAAD,CAXM,CAAT;AAcAnB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI0B,QAAJ,EAAc;AACZA,MAAAA,QAAQ,CAACW,OAAT,CAAiB,CAACC,OAAD,EAAUC,GAAV,KAAkB;AACjC,YAAID,OAAO,CAACE,IAAR,IAAgBZ,WAAhB,IAA+BU,OAAO,CAACG,MAAR,KAAmB,QAAtD,EAAgE;AAC9D,cAAIC,SAAS,GAAG,CAAC,GAAGhB,QAAJ,CAAhB;AACAgB,UAAAA,SAAS,CAACC,QAAQ,CAACJ,GAAD,CAAT,CAAT,CAAyBE,MAAzB,GAAkC,QAAlC;AACAd,UAAAA,WAAW,CAACe,SAAD,CAAX;AACD;AACF,OAND;AAOD;AACF,GAVQ,EAUN,CAACd,WAAD,EAAcF,QAAd,CAVM,CAAT;;AAYA,QAAMkB,iBAAiB,GAAIC,GAAD,IAAS;AAAA;;AACjC7C,IAAAA,SAAS,CAAC,MAAM;AACd;AACN;AACA;AACM,eAAS8C,kBAAT,CAA4BC,KAA5B,EAAmC;AACjC,YAAIF,GAAG,CAACG,OAAJ,IAAe,CAACH,GAAG,CAACG,OAAJ,CAAYC,QAAZ,CAAqBF,KAAK,CAACG,MAA3B,CAApB,EAAwD;AACtD;AACA;AACA;AACA7B,UAAAA,eAAe,CAAC,KAAD,CAAf;AACD;AACF,OAXa,CAad;;;AACA8B,MAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuCN,kBAAvC;AACA,aAAO,MAAM;AACX;AACAK,QAAAA,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,EAA0CP,kBAA1C;AACD,OAHD;AAID,KAnBQ,EAmBN,CAACD,GAAD,CAnBM,CAAT;AAoBD,GArBD;;AApCqB,KAoCfD,iBApCe;;AA2DrBA,EAAAA,iBAAiB,CAACnB,OAAD,CAAjB;AAEA,sBACE,QAAC,aAAD;AAAA,2BACE;AAAK,MAAA,GAAG,EAAEA,OAAV;AAAA,8BACA,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,eAEA,QAAC,QAAD;AAAU,QAAA,SAAS,EAAC,UAApB;AAA+B,QAAA,MAAM,EAAC;AAAtC;AAAA;AAAA;AAAA;AAAA,cAFA,EAGCC,QAAQ,iBACP;AAAI,QAAA,KAAK,EAAE;AAAE4B,UAAAA,aAAa,EAAE;AAAjB,SAAX;AAAA,kBAEG5B,QAAQ,CAAC6B,GAAT,CAAcjB,OAAD,IAAa;AACzB,cAAIA,OAAO,CAACG,MAAR,KAAmB,QAAnB,IAA+BH,OAAO,CAACG,MAAR,KAAmB,QAAtD,EAAgE;AAC9D,gCACE;AAAA,sCACE,QAAC,aAAD;AAAA,wCACE,QAAC,OAAD;AAAA,4BAAUH,OAAO,CAAChB;AAAlB;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE,QAAC,QAAD;AAAU,kBAAA,SAAS,EAAC,YAApB;AAAiC,kBAAA,MAAM,EAAC;AAAxC;AAAA;AAAA;AAAA;AAAA,wBAFF,eAGE,QAAC,iBAAD;AAAA;AAAA;AAAA;AAAA,wBAHF,eAIE,QAAC,OAAD;AAAA,4BAAUgB,OAAO,CAACE;AAAlB;AAAA;AAAA;AAAA;AAAA,wBAJF,eAKE,QAAC,QAAD;AAAU,kBAAA,SAAS,EAAC,YAApB;AAAiC,kBAAA,MAAM,EAAC;AAAxC;AAAA;AAAA;AAAA;AAAA,wBALF,eAME,QAAC,iBAAD;AAAA;AAAA;AAAA;AAAA,wBANF,eAOE,QAAC,OAAD;AAAA,4BAAUF,OAAO,CAACG;AAAlB;AAAA;AAAA;AAAA;AAAA,wBAPF,eAQE,QAAC,QAAD;AAAU,kBAAA,SAAS,EAAC,YAApB;AAAiC,kBAAA,MAAM,EAAC;AAAxC;AAAA;AAAA;AAAA;AAAA,wBARF,eASE,QAAC,iBAAD;AAAA;AAAA;AAAA;AAAA,wBATF,eAUE,QAAC,OAAD;AAAA,4BAAUH,OAAO,CAACkB;AAAlB;AAAA;AAAA;AAAA;AAAA,wBAVF,eAWE,QAAC,QAAD;AAAU,kBAAA,SAAS,EAAC,YAApB;AAAiC,kBAAA,MAAM,EAAC;AAAxC;AAAA;AAAA;AAAA;AAAA,wBAXF,eAYE,QAAC,MAAD;AACE,kBAAA,IAAI,EACFlB,OAAO,CAACG,MAAR,KAAmB,QAAnB,GACI,cADJ,GAEI,eAJR;AAME,kBAAA,EAAE,EAAG,cAAaH,OAAO,CAACmB,EAAG,EAN/B;AAOE,kBAAA,IAAI,EAAE,OAPR;AAQE,kBAAA,QAAQ,EAAEnB,OAAO,CAACG,MAAR,KAAmB;AAR/B;AAAA;AAAA;AAAA;AAAA,wBAZF,eAsBE,QAAC,QAAD;AAAU,kBAAA,SAAS,EAAC,YAApB;AAAiC,kBAAA,MAAM,EAAC;AAAxC;AAAA;AAAA;AAAA;AAAA,wBAtBF,eAuBE,QAAC,WAAD;AACE,kBAAA,EAAE,EAAIH,OAAO,CAACmB;AADhB;AAAA;AAAA;AAAA;AAAA,wBAvBF;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eA4BE,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,sBA5BF;AAAA,eAASrD,MAAM,EAAf;AAAA;AAAA;AAAA;AAAA,oBADF;AAgCD;AACF,SAnCA;AAFH;AAAA;AAAA;AAAA;AAAA,cAJF,eA6CA,QAAC,QAAD;AAAU,QAAA,SAAS,EAAC,UAApB;AAA+B,QAAA,MAAM,EAAC;AAAtC;AAAA;AAAA;AAAA;AAAA,cA7CA,eA8CA,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,cA9CA,eA+CA,QAAC,QAAD;AAAU,QAAA,SAAS,EAAC,UAApB;AAA+B,QAAA,MAAM,EAAC;AAAtC;AAAA;AAAA;AAAA;AAAA,cA/CA,eAiDA,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAjDA,eAkDA,QAAC,QAAD;AAAU,QAAA,SAAS,EAAC,UAApB;AAA+B,QAAA,MAAM,EAAC;AAAtC;AAAA;AAAA;AAAA;AAAA,cAlDA,EAmDCsB,QAAQ,iBACP;AAAI,QAAA,KAAK,EAAE;AAAE4B,UAAAA,aAAa,EAAE;AAAjB,SAAX;AAAA,kBAEG5B,QAAQ,CAAC6B,GAAT,CAAcjB,OAAD,IAAa;AACzB,cACEA,OAAO,CAACG,MAAR,KAAmB,WAAnB,IACAH,OAAO,CAACG,MAAR,KAAmB,WAFrB,EAGE;AACA,gCACE;AAAA,sCACE,QAAC,aAAD;AAAA,wCACE,QAAC,OAAD;AAAA,4BAAUH,OAAO,CAAChB;AAAlB;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE,QAAC,QAAD;AAAU,kBAAA,SAAS,EAAC,YAApB;AAAiC,kBAAA,MAAM,EAAC;AAAxC;AAAA;AAAA;AAAA;AAAA,wBAFF,eAGE,QAAC,iBAAD;AAAA;AAAA;AAAA;AAAA,wBAHF,eAIE,QAAC,OAAD;AAAA,4BAAUgB,OAAO,CAACE;AAAlB;AAAA;AAAA;AAAA;AAAA,wBAJF,eAKE,QAAC,QAAD;AAAU,kBAAA,SAAS,EAAC,YAApB;AAAiC,kBAAA,MAAM,EAAC;AAAxC;AAAA;AAAA;AAAA;AAAA,wBALF,eAME,QAAC,iBAAD;AAAA;AAAA;AAAA;AAAA,wBANF,eAOE,QAAC,OAAD;AAAA,4BAAUF,OAAO,CAACG;AAAlB;AAAA;AAAA;AAAA;AAAA,wBAPF,eAQE,QAAC,QAAD;AAAU,kBAAA,SAAS,EAAC,YAApB;AAAiC,kBAAA,MAAM,EAAC;AAAxC;AAAA;AAAA;AAAA;AAAA,wBARF;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAWE,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,sBAXF;AAAA,eAASrC,MAAM,EAAf;AAAA;AAAA;AAAA;AAAA,oBADF;AAeD;AACF,SArBA;AAFH;AAAA;AAAA;AAAA;AAAA,cApDF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAmFD,CAhJD;;IAAMc,Q;UACoBb,a;;;MADpBa,Q;AAkJN,eAAeA,QAAf","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport tw from \"twin.macro\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport { useHttpClient } from \"../general/http-hook\"\nimport Marginer from \"../general/marginer\";\nimport MeetingMenu from \"./meetingMenu\";\nimport Button from \"../general/button\";\n\n\nconst CardContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 25em;\n  min-width: 50em;\n  box-shadow: rgba(0, 0, 0, 0.09) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px,\n    rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px,\n    rgba(0, 0, 0, 0.09) 0px 32px 16px;\n  ${tw`\n    rounded-md\n    flex-col\n    bg-white\n    pt-4\n    pb-4\n    pr-8\n    pl-8\n  `};\n`;\n\nconst ItemContainer = styled.div`\n  ${tw`\n    flex relative\n    justify-center\n    rounded-md\n    hover:bg-gray-200\n    w-full\n    h-full\n  `};\n`;\n\nconst LineSeperator = styled.span`\n  width: 45%;\n  height: 2px;\n  ${tw`\n    bg-gray-300\n    mr-2\n    ml-2\n    md:mr-5\n    md:ml-5\n    \n  `};\n`;\n\nconst VerticalSeperator = styled.span`\n  width: 2px;\n  height: 4em;\n  ${tw`\n    bg-gray-300\n    mr-2\n    ml-2\n    md:mr-5\n    md:ml-5\n    flex\n    justify-center\nitems-center\n  `};\n`;\n\nconst Slogan = styled.h1`\n  ${tw`\n    font-semibold\n    text-xl\n    text-center\n  `};\n`;\n\nconst Details = styled.span`\n  ${tw`\n  flex\n  text-gray-600\n  text-lg\n  cursor-pointer\n  select-none\njustify-center\nitems-center\n  `};\n`;\n\nconst ViewCard = () => {\n  const { sendRequest } = useHttpClient();\n  const [editMenuOpen, setEditMenuOpen] = useState(false);\n  const [date, setDate] = useState(new Date());\n  const editRef = useRef();\n  const [bookings, setBookings] = useState();\n\n  const currentTime = date.getHours() + \":\" + date.getMinutes();\n\n\n  useEffect(() => {\n    const fetchBookings = async () => {\n      try {\n        const responseData = await sendRequest({\n          url: \"http://localhost:5000/api/meetings/creator/retailps\",\n          headers: null,\n        });\n        setBookings(responseData.meetings);\n      } catch (err) {}\n    };\n    fetchBookings();\n  }, [sendRequest]);\n\n\n  useEffect(() => {\n    if (bookings) {\n      bookings.forEach((booking, idx) => {\n        if (booking.time <= currentTime && booking.status === \"Booked\") {\n          let prevState = [...bookings];\n          prevState[parseInt(idx)].status = \"Active\";\n          setBookings(prevState);\n        }\n      });\n    }\n  }, [currentTime, bookings]);\n\n  const useOutsideAlerter = (ref) => {\n    useEffect(() => {\n      /**\n       * Alert if clicked on outside of element\n       */\n      function handleClickOutside(event) {\n        if (ref.current && !ref.current.contains(event.target)) {\n          // if (isStartCalendarOpen) {\n          //     setStartCalendarOpen(false);\n          // }\n          setEditMenuOpen(false);\n        }\n      }\n\n      // Bind the event listener\n      document.addEventListener(\"mousedown\", handleClickOutside);\n      return () => {\n        // Unbind the event listener on clean up\n        document.removeEventListener(\"mousedown\", handleClickOutside);\n      };\n    }, [ref]);\n  };\n\n  useOutsideAlerter(editRef);\n\n  return (\n    <CardContainer>\n      <div ref={editRef}>\n      <Slogan>Pending Bookings</Slogan>\n      <Marginer direction=\"vertical\" margin=\"3em\" />\n      {bookings && (\n        <ul style={{ listStyleType: \"none\" }}>\n          {/* Time Picker */}\n          {bookings.map((booking) => {\n            if (booking.status === \"Booked\" || booking.status === \"Active\") {\n              return (\n                <li key={uuidv4()}>\n                  <ItemContainer>\n                    <Details>{booking.date}</Details>\n                    <Marginer direction=\"horizontal\" margin=\"1em\" />\n                    <VerticalSeperator />\n                    <Details>{booking.time}</Details>\n                    <Marginer direction=\"horizontal\" margin=\"1em\" />\n                    <VerticalSeperator />\n                    <Details>{booking.status}</Details>\n                    <Marginer direction=\"horizontal\" margin=\"1em\" />\n                    <VerticalSeperator />\n                    <Details>{booking.reason}</Details>\n                    <Marginer direction=\"horizontal\" margin=\"1em\" />\n                    <Button\n                      text={\n                        booking.status === \"Active\"\n                          ? \"Join Meeting\"\n                          : \"Not Available\"\n                      }\n                      to={`/videochat/${booking.id}`}\n                      size={\"small\"}\n                      disabled={booking.status !== \"Active\"}\n                    />\n                    <Marginer direction=\"horizontal\" margin=\"3em\" />\n                    <MeetingMenu\n                      id = {booking.id}\n                    />\n                  </ItemContainer>\n                  <LineSeperator />\n                </li>\n              );\n            }\n          })}\n        </ul>\n      )}\n\n      <Marginer direction=\"vertical\" margin=\"3em\" />\n      <LineSeperator />\n      <Marginer direction=\"vertical\" margin=\"3em\" />\n\n      <Slogan>Past Bookings</Slogan>\n      <Marginer direction=\"vertical\" margin=\"3em\" />\n      {bookings && (\n        <ul style={{ listStyleType: \"none\" }}>\n          {/* Time Picker */}\n          {bookings.map((booking) => {\n            if (\n              booking.status === \"Completed\" ||\n              booking.status === \"Cancelled\"\n            ) {\n              return (\n                <li key={uuidv4()}>\n                  <ItemContainer>\n                    <Details>{booking.date}</Details>\n                    <Marginer direction=\"horizontal\" margin=\"1em\" />\n                    <VerticalSeperator />\n                    <Details>{booking.time}</Details>\n                    <Marginer direction=\"horizontal\" margin=\"1em\" />\n                    <VerticalSeperator />\n                    <Details>{booking.status}</Details>\n                    <Marginer direction=\"horizontal\" margin=\"1em\" />\n                  </ItemContainer>\n                  <LineSeperator />\n                </li>\n              );\n            }\n          })}\n        </ul>\n      )}\n      </div>\n    </CardContainer>\n  );\n};\n\nexport default ViewCard;\n"]},"metadata":{},"sourceType":"module"}