{"ast":null,"code":"var _jsxFileName = \"/Users/annllamb/Documents/GitHub/Intern-project/frontend/src/components/meeting/viewCard.js\",\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport Marginer from \"../general/marginer\";\nimport MeetingMenu from \"./meetingMenu\";\nimport EditCard from \"./editCard\";\nimport Button from \"../general/button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CardContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 25em;\n  box-shadow: rgba(0, 0, 0, 0.09) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px,\n    rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px,\n    rgba(0, 0, 0, 0.09) 0px 32px 16px;\n  ${{\n  \"borderRadius\": \"0.375rem\",\n  \"flexDirection\": \"column\",\n  \"--tw-bg-opacity\": \"1\",\n  \"backgroundColor\": \"rgba(255, 255, 255, var(--tw-bg-opacity))\",\n  \"paddingTop\": \"1rem\",\n  \"paddingBottom\": \"1rem\",\n  \"paddingRight\": \"2rem\",\n  \"paddingLeft\": \"2rem\"\n}};\n`;\n_c = CardContainer;\nconst ItemContainer = styled.div`\n  ${{\n  \"display\": \"flex\",\n  \"position\": \"relative\",\n  \"justifyContent\": \"center\",\n  \"borderRadius\": \"0.375rem\",\n  \":hover\": {\n    \"--tw-bg-opacity\": \"1\",\n    \"backgroundColor\": \"rgba(229, 231, 235, var(--tw-bg-opacity))\"\n  },\n  \"width\": \"700px\",\n  \"minHeight\": \"4em\"\n}};\n`;\n_c2 = ItemContainer;\nconst LineSeperator = styled.span`\n  width: 45%;\n  height: 2px;\n  ${{\n  \"--tw-bg-opacity\": \"1\",\n  \"backgroundColor\": \"rgba(209, 213, 219, var(--tw-bg-opacity))\",\n  \"marginRight\": \"0.5rem\",\n  \"marginLeft\": \"0.5rem\",\n  \"@media (min-width: 768px)\": {\n    \"marginRight\": \"1.25rem\",\n    \"marginLeft\": \"1.25rem\"\n  }\n}};\n`;\n_c3 = LineSeperator;\nconst VerticalSeperator = styled.span`\n  width: 2px;\n  height: 4em;\n  ${{\n  \"--tw-bg-opacity\": \"1\",\n  \"backgroundColor\": \"rgba(209, 213, 219, var(--tw-bg-opacity))\",\n  \"marginRight\": \"0.5rem\",\n  \"marginLeft\": \"0.5rem\",\n  \"display\": \"flex\",\n  \"justifyContent\": \"center\",\n  \"alignItems\": \"center\",\n  \"@media (min-width: 768px)\": {\n    \"marginRight\": \"1.25rem\",\n    \"marginLeft\": \"1.25rem\"\n  }\n}};\n`;\n_c4 = VerticalSeperator;\nconst Slogan = styled.h1`\n  ${{\n  \"fontWeight\": \"600\",\n  \"fontSize\": \"1.25rem\",\n  \"lineHeight\": \"1.75rem\",\n  \"textAlign\": \"center\"\n}};\n`;\n_c5 = Slogan;\nconst Details = styled.span`\n  ${{\n  \"display\": \"flex\",\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"rgba(75, 85, 99, var(--tw-text-opacity))\",\n  \"fontSize\": \"1.125rem\",\n  \"lineHeight\": \"1.75rem\",\n  \"cursor\": \"pointer\",\n  \"userSelect\": \"none\",\n  \"justifyContent\": \"center\",\n  \"alignItems\": \"center\"\n}};\n`;\n_c6 = Details;\n\nconst ViewCard = () => {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const [editMenuOpen, setEditMenuOpen] = useState(false);\n  const [date, setDate] = useState(new Date());\n  const editRef = useRef();\n  const currentTime = date.getHours() + ':' + date.getMinutes();\n  const [dummyBookings, setDummyBookings] = useState([{\n    id: 123,\n    date: \"Mon-Jul-26-2021\",\n    time: \"09:00\",\n    reason: \"Purchase\",\n    status: \"Booked\"\n  }, {\n    id: 123,\n    date: \"Mon-Jul-24-2021\",\n    time: \"11:00\",\n    reason: \"Purchase\",\n    status: \"Completed\"\n  }, {\n    date: \"Mon-Jul-23-2021\",\n    time: \"11:00\",\n    reason: \"Purchase\",\n    status: \"Cancelled\"\n  }, {\n    date: \"Mon-Jul-21-2021\",\n    time: \"11:00\",\n    reason: \"Purchase\",\n    status: \"Completed\"\n  }, {\n    date: \"Mon-Jul-31-2021\",\n    time: \"11:00\",\n    reason: \"Purchase\",\n    status: \"Booked\"\n  }]);\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setDate(new Date());\n      var flag = true;\n      dummyBookings.forEach(booking => {\n        if (booking.status === 'Booked') {\n          flag = false;\n        }\n      });\n\n      if (flag) {\n        clearInterval(interval);\n      }\n    }, 10000);\n    return () => clearInterval(interval);\n  }, [dummyBookings]);\n  useEffect(() => {\n    dummyBookings.forEach((booking, idx) => {\n      if (booking.time <= currentTime && booking.status === 'Booked') {\n        let prevState = [...dummyBookings];\n        prevState[idx].status = 'Active';\n        setDummyBookings(prevState);\n      }\n    });\n  }, [currentTime, dummyBookings]);\n\n  const useOutsideAlerter = ref => {\n    _s();\n\n    useEffect(() => {\n      /**\n       * Alert if clicked on outside of element\n       */\n      function handleClickOutside(event) {\n        if (ref.current && !ref.current.contains(event.target)) {\n          // if (isStartCalendarOpen) {\n          //     setStartCalendarOpen(false);\n          // }\n          setEditMenuOpen(false);\n        }\n      } // Bind the event listener\n\n\n      document.addEventListener(\"mousedown\", handleClickOutside);\n      return () => {\n        // Unbind the event listener on clean up\n        document.removeEventListener(\"mousedown\", handleClickOutside);\n      };\n    }, [ref]);\n  };\n\n  _s(useOutsideAlerter, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n  useOutsideAlerter(editRef);\n  return /*#__PURE__*/_jsxDEV(CardContainer, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: editRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Slogan, {\n      children: \"Pending Bookings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n      direction: \"vertical\",\n      margin: \"3em\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        listStyleType: \"none\"\n      },\n      children: dummyBookings.map(booking => {\n        if (booking.status === \"Booked\" || booking.status === 'Active') {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [editMenuOpen && /*#__PURE__*/_jsxDEV(EditCard, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 34\n            }, this), /*#__PURE__*/_jsxDEV(ItemContainer, {\n              children: [/*#__PURE__*/_jsxDEV(Details, {\n                children: booking.date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n                direction: \"horizontal\",\n                margin: \"1em\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(VerticalSeperator, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Details, {\n                children: booking.time\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n                direction: \"horizontal\",\n                margin: \"1em\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(VerticalSeperator, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Details, {\n                children: booking.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n                direction: \"horizontal\",\n                margin: \"3em\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                text: booking.status === 'Active' ? \"Join Meeting\" : \"Not Available\",\n                to: `/videochat/${booking.id}`,\n                size: \"small\",\n                disabled: booking.status !== 'Active'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n                direction: \"horizontal\",\n                margin: \"3em\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MeetingMenu, {\n                editMenuOpen: editMenuOpen,\n                setEditMenuOpen: () => setEditMenuOpen(true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(LineSeperator, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this)]\n          }, uuidv4(), true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this);\n        }\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n      direction: \"vertical\",\n      margin: \"3em\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LineSeperator, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n      direction: \"vertical\",\n      margin: \"3em\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Slogan, {\n      children: \"Past Bookings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n      direction: \"vertical\",\n      margin: \"3em\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        listStyleType: \"none\"\n      },\n      children: dummyBookings.map(booking => {\n        if (booking.status === \"Completed\" || booking.status === 'Cancelled') {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(ItemContainer, {\n              children: [/*#__PURE__*/_jsxDEV(Details, {\n                children: booking.date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n                direction: \"horizontal\",\n                margin: \"1em\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(VerticalSeperator, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Details, {\n                children: booking.time\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n                direction: \"horizontal\",\n                margin: \"1em\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(VerticalSeperator, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Details, {\n                children: booking.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n                direction: \"horizontal\",\n                margin: \"1em\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(LineSeperator, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 17\n            }, this)]\n          }, uuidv4(), true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }, this);\n        }\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(ViewCard, \"kn0UD8YNdjEkt+nzWWAZhAF5PgQ=\", true);\n\n_c7 = ViewCard;\nexport default ViewCard;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"CardContainer\");\n$RefreshReg$(_c2, \"ItemContainer\");\n$RefreshReg$(_c3, \"LineSeperator\");\n$RefreshReg$(_c4, \"VerticalSeperator\");\n$RefreshReg$(_c5, \"Slogan\");\n$RefreshReg$(_c6, \"Details\");\n$RefreshReg$(_c7, \"ViewCard\");","map":{"version":3,"sources":["/Users/annllamb/Documents/GitHub/Intern-project/frontend/src/components/meeting/viewCard.js"],"names":["React","useState","useEffect","useRef","styled","v4","uuidv4","Marginer","MeetingMenu","EditCard","Button","CardContainer","div","ItemContainer","LineSeperator","span","VerticalSeperator","Slogan","h1","Details","ViewCard","editMenuOpen","setEditMenuOpen","date","setDate","Date","editRef","currentTime","getHours","getMinutes","dummyBookings","setDummyBookings","id","time","reason","status","interval","setInterval","flag","forEach","booking","clearInterval","idx","prevState","useOutsideAlerter","ref","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","listStyleType","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport tw from \"twin.macro\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport Marginer from \"../general/marginer\";\nimport MeetingMenu from \"./meetingMenu\";\nimport EditCard from \"./editCard\";\nimport Button from \"../general/button\";\n\nconst CardContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 25em;\n  box-shadow: rgba(0, 0, 0, 0.09) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px,\n    rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px,\n    rgba(0, 0, 0, 0.09) 0px 32px 16px;\n  ${tw`\n    rounded-md\n    flex-col\n    bg-white\n    pt-4\n    pb-4\n    pr-8\n    pl-8\n  `};\n`;\n\nconst ItemContainer = styled.div`\n  ${tw`\n    flex relative\n    justify-center\n    rounded-md\n    hover:bg-gray-200\n    w-[700px]\n    min-h-[4em]\n  `};\n`;\n\nconst LineSeperator = styled.span`\n  width: 45%;\n  height: 2px;\n  ${tw`\n    bg-gray-300\n    mr-2\n    ml-2\n    md:mr-5\n    md:ml-5\n    \n  `};\n`;\n\nconst VerticalSeperator = styled.span`\n  width: 2px;\n  height: 4em;\n  ${tw`\n    bg-gray-300\n    mr-2\n    ml-2\n    md:mr-5\n    md:ml-5\n    flex\n    justify-center\nitems-center\n  `};\n`;\n\nconst Slogan = styled.h1`\n  ${tw`\n    font-semibold\n    text-xl\n    text-center\n  `};\n`;\n\nconst Details = styled.span`\n  ${tw`\n  flex\n  text-gray-600\n  text-lg\n  cursor-pointer\n  select-none\njustify-center\nitems-center\n  `};\n`;\n\nconst ViewCard = () => {\n  const [editMenuOpen, setEditMenuOpen] = useState(false);\n  const [date, setDate] = useState(new Date())\n  const editRef = useRef();\n  \n  const currentTime = date.getHours() + ':' + date.getMinutes();\n\n  const [dummyBookings, setDummyBookings] = useState([\n    {\n      id : 123,\n      date: \"Mon-Jul-26-2021\",\n      time: \"09:00\",\n      reason: \"Purchase\",\n      status: \"Booked\",\n    },\n    {\n      id: 123,\n      date: \"Mon-Jul-24-2021\",\n      time: \"11:00\",\n      reason: \"Purchase\",\n      status: \"Completed\",\n    },\n    {\n      date: \"Mon-Jul-23-2021\",\n      time: \"11:00\",\n      reason: \"Purchase\",\n      status: \"Cancelled\",\n    },\n    {\n      date: \"Mon-Jul-21-2021\",\n      time: \"11:00\",\n      reason: \"Purchase\",\n      status: \"Completed\",\n    },\n    {\n      date: \"Mon-Jul-31-2021\",\n      time: \"11:00\",\n      reason: \"Purchase\",\n      status: \"Booked\",\n    }\n  ]);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setDate(new Date())\n      var flag = true;\n      dummyBookings.forEach(booking => {\n        if (booking.status === 'Booked') {\n          flag = false;\n        }\n      })\n      if (flag){\n        clearInterval(interval);\n      }\n    }, 10000);\n    return () => clearInterval(interval);\n  }, [dummyBookings]);\n\n  useEffect(() => {\n    dummyBookings.forEach((booking, idx) => {\n      if (booking.time <= currentTime && booking.status === 'Booked'){\n        let prevState = [...dummyBookings];\n        prevState[idx].status = 'Active';\n        setDummyBookings(prevState);\n      }\n    })\n\n  }, [currentTime, dummyBookings]);\n\n  const useOutsideAlerter = (ref) => {\n    useEffect(() => {\n      /**\n       * Alert if clicked on outside of element\n       */\n      function handleClickOutside(event) {\n        if (ref.current && !ref.current.contains(event.target)) {\n          // if (isStartCalendarOpen) {\n          //     setStartCalendarOpen(false);\n          // }\n          setEditMenuOpen(false);\n        }\n      }\n\n      // Bind the event listener\n      document.addEventListener(\"mousedown\", handleClickOutside);\n      return () => {\n        // Unbind the event listener on clean up\n        document.removeEventListener(\"mousedown\", handleClickOutside);\n      };\n    }, [ref]);\n  };\n\n  useOutsideAlerter(editRef);\n\n\n\n  return (\n    <CardContainer>\n      <div ref={editRef}></div>\n      <Slogan>Pending Bookings</Slogan>\n      <Marginer direction=\"vertical\" margin=\"3em\" />\n      <ul style={{ listStyleType: \"none\" }}>\n        {/* Time Picker */}\n        {dummyBookings.map((booking) => {\n          if (booking.status === \"Booked\" || booking.status === 'Active') {\n            return (\n              <li key={uuidv4()}>\n                {editMenuOpen && <EditCard />}\n                <ItemContainer>\n                  <Details>{booking.date}</Details>\n                  <Marginer direction=\"horizontal\" margin=\"1em\" />\n                  <VerticalSeperator />\n                  <Details>{booking.time}</Details>\n                  <Marginer direction=\"horizontal\" margin=\"1em\" />\n                  <VerticalSeperator />\n                  <Details>{booking.status}</Details>\n                  <Marginer direction=\"horizontal\" margin=\"3em\" />\n                  <Button text={booking.status === 'Active' ? \"Join Meeting\" : \"Not Available\"} to = {`/videochat/${booking.id}`}size={\"small\"} disabled={booking.status !== 'Active'} />\n                  <Marginer direction=\"horizontal\" margin=\"3em\" />\n                  <MeetingMenu\n                    editMenuOpen={editMenuOpen}\n                    setEditMenuOpen={() => setEditMenuOpen(true)}\n                  />\n                </ItemContainer>\n                <LineSeperator />\n              </li>\n            );\n          }\n        })}\n      </ul>\n\n      <Marginer direction=\"vertical\" margin=\"3em\" />\n      <LineSeperator />\n      <Marginer direction=\"vertical\" margin=\"3em\" />\n\n      <Slogan>Past Bookings</Slogan>\n      <Marginer direction=\"vertical\" margin=\"3em\" />\n      <ul style={{ listStyleType: \"none\" }}>\n        {/* Time Picker */}\n        {dummyBookings.map((booking) => {\n          if (booking.status === \"Completed\" || booking.status === 'Cancelled') {\n            return (\n              <li key={uuidv4()}>\n                <ItemContainer>\n                  <Details>{booking.date}</Details>\n                  <Marginer direction=\"horizontal\" margin=\"1em\" />\n                  <VerticalSeperator />\n                  <Details>{booking.time}</Details>\n                  <Marginer direction=\"horizontal\" margin=\"1em\" />\n                  <VerticalSeperator />\n                  <Details>{booking.status}</Details>\n                  <Marginer direction=\"horizontal\" margin=\"1em\" />\n                </ItemContainer>\n                <LineSeperator />\n              </li>\n            );\n          }\n        })}\n      </ul>\n    </CardContainer>\n  );\n};\n\nexport default ViewCard;\n"]},"metadata":{},"sourceType":"module"}